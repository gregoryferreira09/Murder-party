<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Profil - Murder Party</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

  <header>
    <h1>Mon Profil</h1>
  </header>

  <main>
    <section class="profil-info">
      <!-- Avatar affiché et modifiable -->
      <div class="avatar-section">
        <h2>Avatar :</h2>
        <img src="avatar-default.png" id="avatar" alt="Avatar de joueur" width="150" height="150">
        <button onclick="changerAvatar()">Modifier l'avatar</button>
      </div>

      <!-- Nom personnalisé en fonction des victoires -->
      <h2>Nom :</h2>
      <input type="text" id="nom" value="Jean Dupont" readonly>

      <!-- Statistiques non modifiables -->
      <h2>Statistiques :</h2>
      <ul>
        <li>Parties jouées : <span id="parties-jouees">15</span></li>
        <li>Parties gagnées : <span id="victoires">8</span></li>
        <li>Parties perdues : <span id="echecs">7</span></li>
        <li>Enquêteur : <span id="enqueteur">10</span></li>
        <li>Meurtrier : <span id="meurtrier">5</span></li>
      </ul>

      <!-- Affichage du nom basé sur les victoires -->
      <h2>Classement : <span id="classement"></span></h2>
    </section>

    <!-- Ajout du bouton Retour -->
    <section class="menu-buttons">
      <button id="btn-retour" style="display:none;" onclick="window.location.href='accueil.html'">🏠 Retour à l'accueil</button>
    </section>
  </main>

  <footer>
    <button onclick="window.location.href='paramètres.html'">⚙️ Paramètres</button>
    <p class="credits">© 2025 Murder Party. Tous droits réservés.</p>
    <a href="mentions-legales.html">Mentions légales</a>
  </footer>

  <script>
    // Calcul du classement basé sur les victoires
    function calculerClassement(victoires) {
      let classement = "";
      if (victoires <= 5) {
        classement = "Débutant";
      } else if (victoires <= 10) {
        classement = "Champion";
      } else if (victoires <= 20) {
        classement = "Vétéran";
      } else {
        classement = "Légende";
      }
      document.getElementById("classement").innerText = classement;
    }

    // Modifier l'avatar
    function changerAvatar() {
      // Simuler un changement d'avatar (cela pourrait être plus avancé avec une bibliothèque d'avatars personnalisés)
      let nouveauxAvatars = ['avatar-1.png', 'avatar-2.png', 'avatar-3.png'];
      let avatarIndex = Math.floor(Math.random() * nouveauxAvatars.length);
      document.getElementById("avatar").src = nouveauxAvatars[avatarIndex];
    }

    // Affichage dynamique du nom et classement
    const victoires = parseInt(document.getElementById("victoires").innerText);
    calculerClassement(victoires);

    // Vérification si l'utilisateur est connecté pour afficher le bouton retour
    const isLoggedIn = true;  // Cela pourrait être modifié avec un vrai contrôle de session
    if (isLoggedIn) {
      document.getElementById('btn-retour').style.display = 'block';  // Afficher le bouton si connecté
    }
  </script>

</body>
</html>
