<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Rôle et Indices - Murder Party</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../Public/styles/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Cormorant+Garamond&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1>🕵️ Enquête</h1>
  </header>

  <main>
    <div class="bandeau-dore" style="margin-top:30px;">
      <div id="chrono">Temps restant : <span id="tempsRestant">30:00</span> | Connexions restantes : <span id="connexionRestantes">5</span></div>
      <div class="tabs">
        <button class="gold-btn tab-button active" onclick="switchTab('fiche')">🎭 Personnage</button>
        <button class="gold-btn tab-button" onclick="switchTab('indices')">🧩 Indices</button>
        <button class="gold-btn tab-button" onclick="switchTab('vote')">⚖️ Vote</button>
        <button class="gold-btn tab-button" onclick="switchTab('connexion')">🤝 Connexion</button>
      </div>

      <!-- Fiche personnage -->
      <section id="fiche" class="tab-content active">
        <h2>Nom : <span id="nomPersonnage">Inspecteur Alaric</span></h2>
        <img src="image-personnage.jpg" alt="Image du Personnage" class="avatar">
        <p><strong>Histoire :</strong> Ancien détective de Scotland Yard, rongé par un passé trouble...</p>
        <p><strong>Pouvoir :</strong> Interrogez deux joueurs à chaque tour...</p>
      </section>

      <!-- Indices -->
      <section id="indices" class="tab-content" style="display:none;">
        <h3>Vos indices :</h3>
        <div id="listeIndices"></div>
      </section>

      <!-- Onglet Vote/Connexion (mêmes avatars pour simplification) -->
      <section id="action" class="tab-content" style="display:none;">
        <h3 id="action-titre"></h3>
        <div class="connexion-joueur" id="action-joueurs">
          <!-- N'affiche pas Inspecteur Alaric pour le vote -->
          <div class="joueur-avatar" data-nom="Violette" data-fiabilite="fiable" data-indices="A été vue avec la victime peu avant le crime.|Semblait nerveuse lors du dîner.">
            <img src="violette.jpg" alt="Violette" class="avatar" onerror="this.src='https://via.placeholder.com/80?text=Avatar';"><br>Violette
          </div>
          <div class="joueur-avatar" data-nom="Brume" data-fiabilite="suspect" data-indices="Possède une clé suspecte.|A disparu 10 minutes pendant la soirée.">
            <img src="brume.jpg" alt="Brume" class="avatar" onerror="this.src='https://via.placeholder.com/80?text=Avatar';"><br>Brume
          </div>
        </div>
        <button class="gold-btn" id="action-btn" disabled>Valider</button>
        <div id="actionResult" style="margin-top:10px;"></div>
      </section>
    </div>
  </main>

  <footer class="footer">
    <p>© 2025 Murder Party. Tous droits réservés. <a href="mentions-legales.html">Mentions légales</a></p>
  </footer>

  <div class="effet-elimination" id="effetElimination"></div>

  <!-- Modale de connexion améliorée -->
  <div id="modal-connexion" class="modal">
    <div class="modal-content">
      <h2>Connexion</h2>
      <p id="modal-connexion-text"></p>
      <div class="modal-actions">
        <button class="gold-btn" onclick="accepterConnexion()">Accepter</button>
        <button class="gold-btn" onclick="refuserConnexion()">Refuser</button>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <!-- Sons -->
  <audio id="sound-vote" src="../../Public/sounds/vote.mp3"></audio>
  <audio id="sound-connexion" src="../../Public/sounds/connexion.mp3"></audio>

  <script src="../JS/gameplay.js"></script>
</body>
</html>
