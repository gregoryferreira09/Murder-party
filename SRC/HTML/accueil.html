<!DOCTYPE html>
<html lang="fr">

<head>
  <!-- ... tout ton head inchangé ... -->
</head>

<body>
  <header>
    <h1>Murder Party</h1>
  </header>

  <main>
    <div class="bandeau-dore">
      <p id="bienvenuePseudo"></p>
      <div class="scenario">
        <section class="menu-buttons">
          <button onclick="window.location.href='creer-partie.html'" aria-label="Créer une partie">🎮 Créer une partie</button>
          <button onclick="window.location.href='rejoindre-partie.html'" aria-label="Rejoindre une partie">👥 Rejoindre une partie</button>
          <button onclick="window.location.href='profil-joueur.html'" aria-label="Voir le profil">👤 Profil</button>
          <button onclick="window.location.href='boutique.html'" aria-label="Accéder à la boutique">🛍️ Boutique</button>
          <button onclick="window.location.href='parametres.html'" aria-label="Paramètres du jeu">⚙️ Paramètres</button>
          <!-- Bouton Quitter salon, affiché si dans un salon -->
          <button id="btnQuitterSalon" style="display:none" aria-label="Quitter le salon">🚪 Quitter le salon</button>
        </section>
      </div>
    </div>
  </main>

  <footer class="footer">
    <p>© 2025 Murder Party. Tous droits réservés.</p>
    <a href="mentions-legales.html">Mentions légales</a>
  </footer>

  <!-- Fenêtre flottante de confirmation -->
  <div id="modalQuitterSalon" class="modal" style="display:none;">
    <div class="modal-content">
      <p>Voulez-vous vraiment quitter le salon ?</p>
      <button id="confirmQuitterSalon">Oui, quitter</button>
      <button id="cancelQuitterSalon">Annuler</button>
    </div>
  </div>

  <!-- Styles pour la fenêtre flottante (simplifié, à adapter à ton CSS) -->
  <style>
    .modal {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.4); display: flex; align-items: center; justify-content: center; z-index: 1000;
    }
    .modal-content {
      background: #fff; padding: 2em 1.5em; border-radius: 12px; box-shadow: 0 2px 20px #0008; text-align: center;
    }
    .modal-content button { margin: 0 0.5em; }
  </style>

  <!-- JS pour la logique de confirmation -->
  <script>
    // Affiche pseudo
    document.addEventListener("DOMContentLoaded", function() {
      const pseudo = localStorage.getItem("pseudo") || "Anonyme";
      document.getElementById("bienvenuePseudo").textContent = `Bienvenue, ${pseudo} !`;
    });

    // Vibration
    document.addEventListener("DOMContentLoaded", function() {
      const buttons = document.querySelectorAll('button');
      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          if (navigator.vibrate) navigator.vibrate(15);
        });
      });
    });

    // Affiche bouton "Quitter le salon" si l'utilisateur est dans un salon
    document.addEventListener("DOMContentLoaded", function() {
      // Par exemple, on teste la présence d'un idSalon dans le localStorage
      if(localStorage.getItem("idSalon")) {
        document.getElementById("btnQuitterSalon").style.display = "inline-block";
      }
    });

    // Gestion de la fenêtre flottante
    document.getElementById("btnQuitterSalon").addEventListener("click", function() {
      document.getElementById("modalQuitterSalon").style.display = "flex";
    });

    document.getElementById("cancelQuitterSalon").addEventListener("click", function() {
      document.getElementById("modalQuitterSalon").style.display = "none";
    });

    document.getElementById("confirmQuitterSalon").addEventListener("click", function() {
      // Ici, tu retires l'utilisateur du salon sans supprimer le salon (ex: suppression idSalon)
      localStorage.removeItem("idSalon");
      // Redirige vers rejoindre-partie.html
      window.location.href = "rejoindre-partie.html";
    });
  </script>
</body>
</html>
