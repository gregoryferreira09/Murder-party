<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Générateur de Scénarios Murder Party</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: #222;
      font-family: 'Georgia', serif;
      color: #f3e9d2;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 900px;
      margin: 40px auto;
      background: #2e211a;
      border-radius: 16px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.7);
      padding: 36px 32px 32px 32px;
      border: 2px solid #c49b66;
      position: relative;
    }
    h1 {
      color: #ffe6b3;
      font-size: 2.1em;
      text-align: center;
      margin-top: 0;
      letter-spacing: 1px;
      text-shadow: 2px 2px 8px #000;
    }
    h2 {
      color: #ffe6b3;
      margin-bottom: 0.4em;
      margin-top: 1.8em;
      font-size: 1.3em;
    }
    .scenario-block {
      margin-bottom: 32px;
      padding-bottom: 16px;
      border-bottom: 1px solid #c49b66;
      background: #241a15;
      border-radius: 10px;
      box-shadow: 0 2px 10px #0004;
    }
    button {
      display: block;
      margin: 20px auto 30px auto;
      padding: 12px 28px;
      background: #c49b66;
      color: #2e211a;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      transition: background .2s;
    }
    button:hover {
      background: #ffe6b3;
    }
    .label {
      color: #c49b66;
      font-weight: bold;
    }
    ul {
      margin: 0 0 1em 24px;
      padding: 0;
    }
    li {
      margin: 0 0 2px 0;
    }
    .empty {
      color: #ff8080;
      font-style: italic;
    }
    @media (max-width: 600px) {
      .container { padding: 10px 2px; }
      h1 { font-size: 1.3em; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Générateur de Scénarios Murder Party</h1>
    <button id="regenBtn">Générer un scénario pour chaque époque</button>
    <div id="scenarios"></div>
  </div>
  <script>
function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

// Données simplifiées et fictives pour chaque époque
const univers = {
  medieval: {
    intro: [
      "Le banquet bat son plein dans {lieu}. Soudain, un cri interrompt la fête.",
      "Une tempête gronde dehors, et la tension monte dans {lieu}."
    ],
    ambiances: [
      "La cloche du village résonne", "Les flammes vacillent dans la cheminée"
    ],
    lieux: ["La grande salle", "Le donjon", "La cuisine du château"],
    personnages: ["Sir Gauvain", "Dame Aliénor", "Le ménestrel", "Le cuisinier"],
    armes: ["épée rouillée", "poison dans le vin", "dague d'argent"],
    indices: ["une plume ensanglantée", "une coupe brisée", "une empreinte boueuse"],
    mobiles: ["la jalousie", "la vengeance", "l'ambition"],
    secrets: ["un amour caché", "une trahison envers le roi"]
  },
  renaissance: {
    intro: [
      "Les lanternes illuminent la cour. Un cri retentit dans {lieu}.",
      "Un bal masqué agite la noblesse, mais un drame se prépare dans {lieu}."
    ],
    ambiances: [
      "Un bal masqué agite la noblesse", "Les artistes rivalisent de talent"
    ],
    lieux: ["Le palais", "La galerie d'art", "Les jardins"],
    personnages: ["Le duc Lorenzo", "La duchesse Bianca", "Le peintre", "Le jardinier"],
    armes: ["stylet décoré", "fiole de poison", "cordelette"],
    indices: ["un masque taché de sang", "un gant oublié", "un croquis étrange"],
    mobiles: ["l'honneur", "une dette", "une passion interdite"],
    secrets: ["une œuvre volée", "un faux testament"]
  },
  victorien: {
    intro: [
      "Le manoir vibre d'une excitation étrange. Un drame a eu lieu dans {lieu}.",
      "Le brouillard étreint {lieu}. Un crime vient d'être découvert."
    ],
    ambiances: [
      "Le tonnerre gronde au loin", "Les invités masqués se perdent dans la fête"
    ],
    lieux: ["Le salon", "La bibliothèque", "L'orangerie"],
    personnages: ["Lord Blackwood", "Miss Holmes", "Le majordome", "Lady Violet"],
    armes: ["canne-épée", "couteau à lettres", "poison dans le thé"],
    indices: ["un mouchoir brodé", "des traces de chaussures boueuses", "un carnet déchiré"],
    mobiles: ["un héritage", "une rivalité amoureuse", "un secret de famille"],
    secrets: ["une double vie", "un enfant caché"]
  },
  western: {
    intro: [
      "Le saloon est agité. Un coup de feu retentit dans {lieu}!",
      "Tout le monde surveille tout le monde dans {lieu} ce soir."
    ],
    ambiances: [
      "Le vent soulève la poussière", "La nuit tombe sur la prairie"
    ],
    lieux: ["Le saloon", "L'écurie", "La rue principale"],
    personnages: ["Billy le Kid", "Miss Liza", "Le shérif", "Le barman"],
    armes: ["colt", "la carafe de whisky", "corde de lasso"],
    indices: ["un chapeau troué", "des balles usagées", "un bandana ensanglanté"],
    mobiles: ["la vengeance", "un vol de bétail", "la jalousie"],
    secrets: ["un trésor caché", "une fausse identité"]
  },
  contemporain: {
    intro: [
      "La fête au bureau bat son plein dans {lieu}, puis tout bascule.",
      "Une panne d'électricité plonge {lieu} dans l'obscurité et un cri retentit."
    ],
    ambiances: [
      "La musique s’élève", "Un silence pesant s’installe"
    ],
    lieux: ["La salle de réunion", "La cafétéria", "Le parking"],
    personnages: ["Julie la RH", "Marc le comptable", "Le stagiaire", "La directrice"],
    armes: ["agrafeuse lourde", "câble électrique", "poison dans le café"],
    indices: ["un badge oublié", "un mug cassé", "des traces de talons"],
    mobiles: ["une promotion ratée", "un adultère", "un licenciement"],
    secrets: ["un détournement de fonds", "une liaison cachée"]
  },
  futuriste: {
    intro: [
      "L’alarme retentit dans {lieu}, un équipier est retrouvé sans vie.",
      "Les écrans clignotent, l’IA détecte un incident dans {lieu}."
    ],
    ambiances: [
      "L’alerte rouge retentit", "Le sas grince"
    ],
    lieux: ["La salle de contrôle", "Le laboratoire", "La capsule de sommeil"],
    personnages: ["Capitaine Nova", "L'ingénieur K42", "Le médecin synthétique", "La pilote"],
    armes: ["laser portatif", "nanovirus", "clé à plasma"],
    indices: ["un gant brûlé", "un accès refusé", "des circuits fondus"],
    mobiles: ["sabotage", "jalousie scientifique", "rivalité pour le commandement"],
    secrets: ["un programme caché", "une identité usurpée"]
  },
  historique: {
    intro: [
      "Un grand bal débute dans {lieu}, mais la fête tourne au drame.",
      "Les chroniqueurs prennent des notes, il y aura matière à scandale dans {lieu}."
    ],
    ambiances: [
      "Les tambours de guerre résonnent", "Les chandelles vacillent"
    ],
    lieux: ["La salle du trône", "La place publique", "Les cuisines royales"],
    personnages: ["Le roi Louis", "La reine Anne", "Le bouffon", "Le conseiller"],
    armes: ["épée royale", "poison dans le banquet", "corde de rideau"],
    indices: ["un bijou perdu", "des traces de pas dans la cire", "un message codé"],
    mobiles: ["la succession", "la trahison", "l'amour interdit"],
    secrets: ["un complot contre la couronne", "un enfant illégitime"]
  }
};

function genererScenario(epoque, data) {
  // Prend un élément différent pour chaque placeholder, sans doublon pour les persos
  let persos = [...data.personnages];
  let suspect1 = persos.splice(Math.floor(Math.random()*persos.length),1)[0];
  let suspect2 = persos.splice(Math.floor(Math.random()*persos.length),1)[0];
  let temoin = persos.length ? persos[Math.floor(Math.random()*persos.length)] : suspect2;
  let intro = getRandom(data.intro)
    .replace('{lieu}', getRandom(data.lieux));
  let ambiance = getRandom(data.ambiances);
  let victime = suspect2;
  let arme = getRandom(data.armes);
  let lieu = getRandom(data.lieux);
  let indice = getRandom(data.indices);
  let mobile = getRandom(data.mobiles);
  let secret = getRandom(data.secrets);

  return `
    <div class="scenario-block">
      <h2>${epoque.charAt(0).toUpperCase() + epoque.slice(1)}</h2>
      <p><span class="label">Ambiance :</span> ${ambiance}</p>
      <p><span class="label">Introduction :</span> ${intro}</p>
      <p><span class="label">Victime :</span> ${victime}</p>
      <p><span class="label">Lieu du crime :</span> ${lieu}</p>
      <p><span class="label">Arme du crime :</span> ${arme}</p>
      <p><span class="label">Suspect principal :</span> ${suspect1}</p>
      <p><span class="label">Indice clé :</span> ${indice}</p>
      <p><span class="label">Mobile probable :</span> ${mobile}</p>
      <p><span class="label">Secret découvert :</span> ${secret}</p>
      <p><span class="label">Témoin important :</span> ${temoin}</p>
    </div>
  `;
}

function afficherScenarios() {
  let html = '';
  for (const [epoque, data] of Object.entries(univers)) {
    html += genererScenario(epoque, data);
  }
  document.getElementById('scenarios').innerHTML = html;
}

document.getElementById('regenBtn').addEventListener('click', afficherScenarios);
afficherScenarios();
  </script>
</body>
</html>
